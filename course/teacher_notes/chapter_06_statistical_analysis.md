# 第6章：统计分析基础

## 课程目标
本章将带领学生掌握Python中进行统计分析的核心方法，包括描述性统计、推断性统计、假设检验等关键概念，并通过实际案例演示如何应用这些方法解决真实世界的数据问题。

## 核心知识点

### 6.1 描述性统计
- **集中趋势度量**：均值、中位数、众数
- **离散程度度量**：方差、标准差、四分位距
- **分布形态**：偏度、峰度
- **相关性分析**：皮尔逊相关系数、斯皮尔曼相关系数

### 6.2 推断性统计基础
- **抽样分布**：中心极限定理
- **置信区间**：单样本和双样本置信区间
- **假设检验框架**：零假设 vs 备择假设
- **p值解释**：统计显著性 vs 实际显著性

### 6.3 常用假设检验方法
- **t检验**：单样本t检验、独立样本t检验、配对样本t检验
- **卡方检验**：拟合优度检验、独立性检验
- **方差分析(ANOVA)**：单因素和多因素方差分析
- **非参数检验**：Mann-Whitney U检验、Wilcoxon符号秩检验

### 6.4 Python实现工具
- **SciPy.stats**：完整的统计函数库
- **Statsmodels**：统计模型和假设检验
- **Pingouin**：专门为心理学和神经科学研究设计的统计包
- **Researchpy**：简化统计分析的高级接口

## 教学重点与难点

### 重点内容
1. **统计概念的理解**：避免"黑箱"操作，理解每个统计方法背后的假设和适用条件
2. **结果解释能力**：能够正确解释p值、置信区间、效应量等统计指标
3. **实际应用场景**：将统计方法应用到具体的数据分析问题中

### 难点突破
1. **假设检验的逻辑**：通过可视化和模拟帮助学生理解假设检验的基本原理
2. **多重比较问题**：介绍Bonferroni校正、FDR控制等方法
3. **效应量的重要性**：强调统计显著性不等于实际重要性

## 教学案例

### 案例6.1：A/B测试分析
```python
import pandas as pd
import numpy as np
from scipy import stats
import pingouin as pg

# 模拟A/B测试数据
np.random.seed(42)
group_a = np.random.normal(0.15, 0.05, 1000)  # 转化率15%
group_b = np.random.normal(0.18, 0.05, 1000)  # 转化率18%

# t检验
t_stat, p_value = stats.ttest_ind(group_a, group_b)
print(f"t-statistic: {t_stat:.4f}, p-value: {p_value:.4f}")

# 效应量计算
cohens_d = (np.mean(group_b) - np.mean(group_a)) / np.sqrt((np.var(group_a) + np.var(group_b)) / 2)
print(f"Cohen's d: {cohens_d:.4f}")
```

### 案例6.2：市场调研数据分析
使用卡方检验分析不同年龄段用户对产品偏好的差异。

## 实践练习

### 基础练习
1. 计算给定数据集的描述性统计指标
2. 进行单样本t检验验证均值假设
3. 使用卡方检验分析分类变量的独立性

### 进阶练习
1. 设计并分析一个完整的A/B测试实验
2. 进行多组比较的方差分析
3. 应用非参数检验处理非正态分布数据

## 常见误区与注意事项

### 统计误区
- **p值误解**：p值不是效应大小的度量，也不是零假设为真的概率
- **相关性vs因果性**：相关不等于因果，需要谨慎解释结果
- **样本量影响**：大样本量可能导致微小差异也具有统计显著性

### 技术注意事项
- **数据分布检查**：在应用参数检验前检查数据是否满足正态性假设
- **异常值处理**：异常值可能严重影响统计结果，需要适当处理
- **多重检验校正**：进行多次检验时需要控制整体错误率

## 扩展阅读
- 《统计学习基础》(Elements of Statistical Learning)
- SciPy官方文档中的统计模块
- Statsmodels用户指南
- "The American Statistician"期刊关于p值使用的最新指南

## 下一章预告
第7章将深入探讨时间序列分析，包括趋势分析、季节性分解、ARIMA模型等内容，为处理时间相关的数据奠定基础。