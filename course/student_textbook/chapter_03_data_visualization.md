# 第3章：数据可视化基础

## 学习目标
- 掌握Matplotlib、Seaborn和Plotly的基本用法
- 理解不同类型图表的适用场景
- 能够创建专业级的数据可视化图表
- 学会图表的美化和优化技巧

## 3.1 可视化库概述

### 3.1.1 Matplotlib - 基础绘图库
Matplotlib是Python中最基础也是最强大的2D绘图库，几乎所有其他可视化库都基于它构建。

```python
import matplotlib.pyplot as plt
import numpy as np

# 基本折线图
x = np.linspace(0, 10, 100)
y = np.sin(x)
plt.plot(x, y)
plt.title('正弦函数')
plt.xlabel('X轴')
plt.ylabel('Y轴')
plt.show()
```

### 3.1.2 Seaborn - 统计可视化
Seaborn基于Matplotlib，专注于统计图表，语法更简洁。

```python
import seaborn as sns
import pandas as pd

# 加载示例数据
tips = sns.load_dataset("tips")
sns.scatterplot(data=tips, x="total_bill", y="tip", hue="time")
plt.show()
```

### 3.1.3 Plotly - 交互式可视化
Plotly提供交互式图表，适合Web应用和动态展示。

```python
import plotly.express as px

df = px.data.iris()
fig = px.scatter(df, x="sepal_width", y="sepal_length", color="species")
fig.show()
```

## 3.2 常用图表类型

### 3.2.1 折线图 (Line Plot)
适用于展示时间序列数据或连续变量的变化趋势。

**最佳实践：**
- 时间轴放在X轴
- 使用不同颜色区分多条线
- 添加图例说明

### 3.2.2 柱状图 (Bar Chart)
用于比较不同类别之间的数值大小。

**变体：**
- 垂直柱状图：类别较少时使用
- 水平柱状图：类别名称较长时使用
- 堆叠柱状图：展示组成部分

### 3.2.3 散点图 (Scatter Plot)
展示两个变量之间的关系和分布模式。

**增强功能：**
- 颜色编码：第三个变量
- 大小编码：第四个变量
- 趋势线：显示相关性

### 3.2.4 箱线图 (Box Plot)
展示数据的分布情况，包括中位数、四分位数和异常值。

### 3.2.5 热力图 (Heatmap)
展示矩阵数据，常用于相关性分析和混淆矩阵。

## 3.3 图表美化技巧

### 3.3.1 颜色选择
- 使用色彩盲友好的调色板
- 避免过于鲜艳的颜色
- 保持一致性

### 3.3.2 标签和标题
- 标题要简洁明了
- 轴标签要包含单位
- 图例要清晰易懂

### 3.3.3 布局优化
- 合理利用空白区域
- 避免图表过于拥挤
- 保持适当的字体大小

## 3.4 实战练习

### 练习3.1：股票价格可视化
使用Yahoo Finance数据，创建股票价格的时间序列图。

### 练习3.2：销售数据分析
创建销售数据的多维度可视化，包括地区、产品类别和时间维度。

### 练习3.3：交互式仪表板
使用Plotly Dash创建一个简单的交互式数据仪表板。

## 3.5 常见错误与解决方案

### 错误1：图表信息过载
**解决方案：** 分解为多个简单图表

### 错误2：误导性的坐标轴
**解决方案：** 从零开始Y轴（除非有特殊原因）

### 错误3：不合适的图表类型
**解决方案：** 根据数据类型和分析目标选择合适的图表

## 本章小结
数据可视化是数据分析的关键环节，好的可视化能够直观地传达信息。通过本章的学习，你应该能够：
- 熟练使用三大可视化库
- 根据数据特点选择合适的图表类型
- 创建美观且信息丰富的可视化图表
- 避免常见的可视化陷阱

## 课后作业
1. 完成三个实战练习
2. 选择一个真实数据集，创建至少5种不同类型的图表
3. 分析一个糟糕的可视化案例，提出改进建议